All the necessary code here